{"ast":null,"code":"export function configureFakeBackend(){var users=[{\"firstName\":\"edessociales.andrearendon@gmail.com\",\"id\":1,\"lastName\":\"edessociales.andrearendon@gmail.com\",\"password\":\"db3w2xjooxvp\",\"username\":\"edessociales.andrearendon@gmail.com\"},{\"firstName\":\"canalesespecializados@gmail.com\",\"id\":2,\"lastName\":\"canalesespecializados@gmail.com\",\"password\":\"ylm5niqcr7cb\",\"username\":\"canalesespecializados@gmail.com\"},{\"firstName\":\"andrea_rendon@bantrab.net.gt\",\"id\":3,\"lastName\":\"andrea_rendon@bantrab.net.gt\",\"password\":\"r7cbdb3w2xss\",\"username\":\"andrea_rendon@bantrab.net.gt\"},{\"firstName\":\"maria_cermeno@bantrab.net.gt\",\"id\":4,\"lastName\":\"maria_cermeno@bantrab.net.gt\",\"password\":\"zesiutllh8tg\",\"username\":\"maria_cermeno@bantrab.net.gt\"},{\"firstName\":\"tatiana_meneses@bantrab.net.gt\",\"id\":5,\"lastName\":\"tatiana_meneses@bantrab.net.gt\",\"password\":\"1kfwvb3ex9pu\",\"username\":\"tatiana_meneses@bantrab.net.gt\"},{\"firstName\":\"omgadmin\",\"id\":6,\"lastName\":\"omgadmin\",\"password\":\"omgadmin\",\"username\":\"omgadmin\"},{\"username\":\"wendy_santacruz@bantrab.net.gt\",\"password\":\"ven6fnbq\",\"firstName\":\"wendy\",\"id\":7,\"lastName\":\"wendy\"}];var realFetch=window.fetch;window.fetch=function(url,opts){var isLoggedIn='Bearer fake-jwt-token';return new Promise(function(resolve,reject){// wrap in timeout to simulate server api call\nsetTimeout(function(){// authenticate - public\nif(url.endsWith('/users/authenticate')&&opts.method==='POST'){var params=JSON.parse(opts.body);var user=users.find(function(x){return x.username===params.username&&x.password===params.password;});if(!user)return error('Error de Accesos');return ok({id:user.id,username:user.username,firstName:user.firstName,lastName:user.lastName,token:'fake-jwt-token'});}// get users - secure\nif(url.endsWith('/users')&&opts.method==='GET'){if(!isLoggedIn)return unauthorised();return ok(users);}// pass through any requests not handled above\nrealFetch(url,opts).then(function(response){return resolve(response);});// private helper functions\nfunction ok(body){resolve({ok:true,text:function text(){return Promise.resolve(JSON.stringify(body));}});}function unauthorised(){resolve({status:401,text:function text(){return Promise.resolve(JSON.stringify({message:'Unauthorised'}));}});}function error(message){resolve({status:400,text:function text(){return Promise.resolve(JSON.stringify({message:message}));}});}},500);});};}","map":{"version":3,"sources":["C:/xampp/htdocs/react/login/src/_helpers/fake-backend.js"],"names":["configureFakeBackend","users","realFetch","window","fetch","url","opts","isLoggedIn","Promise","resolve","reject","setTimeout","endsWith","method","params","JSON","parse","body","user","find","x","username","password","error","ok","id","firstName","lastName","token","unauthorised","then","response","text","stringify","status","message"],"mappings":"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","sourcesContent":["\n\nexport function configureFakeBackend() {\n    \n    let users =[\n        {\n          \"firstName\": \"edessociales.andrearendon@gmail.com\",\n          \"id\": 1,\n          \"lastName\": \"edessociales.andrearendon@gmail.com\",\n          \"password\": \"db3w2xjooxvp\",\n          \"username\": \"edessociales.andrearendon@gmail.com\"\n        },\n        {\n          \"firstName\": \"canalesespecializados@gmail.com\",\n          \"id\": 2,\n          \"lastName\": \"canalesespecializados@gmail.com\",\n          \"password\": \"ylm5niqcr7cb\",\n          \"username\": \"canalesespecializados@gmail.com\"\n        },\n        {\n          \"firstName\": \"andrea_rendon@bantrab.net.gt\",\n          \"id\": 3,\n          \"lastName\": \"andrea_rendon@bantrab.net.gt\",\n          \"password\": \"r7cbdb3w2xss\",\n          \"username\": \"andrea_rendon@bantrab.net.gt\"\n        },\n        {\n          \"firstName\": \"maria_cermeno@bantrab.net.gt\",\n          \"id\": 4,\n          \"lastName\": \"maria_cermeno@bantrab.net.gt\",\n          \"password\": \"zesiutllh8tg\",\n          \"username\": \"maria_cermeno@bantrab.net.gt\"\n        },\n        {\n          \"firstName\": \"tatiana_meneses@bantrab.net.gt\",\n          \"id\": 5,\n          \"lastName\": \"tatiana_meneses@bantrab.net.gt\",\n          \"password\": \"1kfwvb3ex9pu\",\n          \"username\": \"tatiana_meneses@bantrab.net.gt\"\n        },\n        {\n          \"firstName\": \"omgadmin\",\n          \"id\": 6,\n          \"lastName\": \"omgadmin\",\n          \"password\": \"omgadmin\",\n          \"username\": \"omgadmin\"\n        },\n        { \"username\":\"wendy_santacruz@bantrab.net.gt\",\n        \"password\":\"ven6fnbq\",\n        \"firstName\": \"wendy\",\n        \"id\": 7,\n        \"lastName\": \"wendy\",\n           } \n      ];\n\n\n\n    let realFetch = window.fetch;\n    window.fetch = function (url, opts) {\n        const isLoggedIn = 'Bearer fake-jwt-token';\n        return new Promise((resolve, reject) => {\n            // wrap in timeout to simulate server api call\n            setTimeout(() => {  \n                // authenticate - public\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\n                    const params = JSON.parse(opts.body);\n                    const user = users.find(x => x.username === params.username && x.password === params.password);\n                    if (!user) return error('Error de Accesos');\n                    return ok({\n                        id: user.id,\n                        username: user.username,\n                        firstName: user.firstName,\n                        lastName: user.lastName,\n                        token: 'fake-jwt-token'\n                    });\n                }\n                // get users - secure\n                if (url.endsWith('/users') && opts.method === 'GET') {\n                    if (!isLoggedIn) return unauthorised();\n                    return ok(users);\n                }\n\n                // pass through any requests not handled above\n                realFetch(url, opts).then(response => resolve(response));\n\n                // private helper functions\n\n                function ok(body) {\n                    resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(body)) })\n                }\n\n                function unauthorised() {\n                    resolve({ status: 401, text: () => Promise.resolve(JSON.stringify({ message: 'Unauthorised' })) })\n                }\n\n                function error(message) {\n                    resolve({ status: 400, text: () => Promise.resolve(JSON.stringify({ message })) })\n                }\n            }, 500);\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}